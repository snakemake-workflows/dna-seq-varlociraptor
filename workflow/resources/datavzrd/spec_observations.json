{
    "$schema": "https://vega.github.io/schema/vega-lite/v3.json",
    "transform": [
        {
          "calculate": "indexof(['Very Strong (Alt)', 'Strong (Alt)', 'Positive (Alt)', 'Barely (Alt)', 'Equal', 'Barely (Reference)', 'Positive (Reference)', 'Strong (Reference)', 'Very Strong (Reference)'], datum.effect)",
          "as": "order"
        }
      ],
    "mark": "bar",
    "encoding": {
        "column": {
            "field": "quality",
            "type": "ordinal",
            "title": null
        },
        "x": {
            "field": "strand_orientation",
            "type": "ordinal",
            "title": "Strand"
        },
        "y": {
            "field": "times",
            "type": "quantitative",
            "title": "Counts"
        },
        "order": {"field": "order", "type": "ordinal", "sort": "descending"},
        "color": {
            "field": "effect",
            "type": "nominal",
            "title": "Evidence",
            "sort": {"field": "order", "order": "descending"},
            "scale": {
                "domain": ["Very Strong (Alt)", "Strong (Alt)", "Positive (Alt)", "Barely (Alt)", "Equal", "Barely (Reference)", "Positive (Reference)", "Strong (Reference)", "Very Strong (Reference)"],
                "range": ["#ff5555", "#ff6666", "#ff9999", "#ffcccc", "#999999", "#eaf7fb", "#afdfee", "#6cc5e0", "#2dacd2"]
            }
        },
        "tooltip": [ {
            "field": "effect",
            "type": "nominative",
            "title": "Evidence"
        }, {
            "field": "strand",
            "type": "nominative",
            "title": "Strand"
        }, {
            "field": "orientation",
            "type": "nominal",
            "title": "Orientation"
        }, {
            "field": "times",
            "type": "quantitative",
            "title": "Counts"
        }, {
            "field": "times",
            "type": "quantitative",
            "title": "Counts"
        }]
    },
    "config": {
        "axisX": {
            "labelAngle": -45
        }
    }
}